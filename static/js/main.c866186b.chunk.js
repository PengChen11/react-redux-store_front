(this["webpackJsonpreact-redux-store_front"]=this["webpackJsonpreact-redux-store_front"]||[]).push([[0],{93:function(t,e,n){},94:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n(0),a=n.n(r),i=n(18),o=n.n(i),s=n(21),u=n(19),d=n(47),p=n(16),l=n.n(p),j=n(23),b=n(8),m=n(38),h={categories:[],active:null};var f=n(38),O={products:[]};var x=n(51),g={itemsInCart:[]};var v=n(49),y=Object(u.combineReducers)({categoryStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case"categories/initialize":return Object(b.a)(Object(b.a)({},t),{},{categories:c,active:c[0]});case"categories/active":return Object(b.a)(Object(b.a)({},t),{},{active:c});default:return t}},productStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case"products/initialize":return Object(b.a)(Object(b.a)({},t),{},{products:c});case"products/reduceQty":var r=t.products.map((function(t){return t._id===c._id?c:t}));return Object(b.a)(Object(b.a)({},t),{},{products:r});case"products/increaseQty":return Object(b.a)(Object(b.a)({},t),{},{products:c});default:return t}},cartStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case"cart/addItem":if(0===t.itemsInCart.filter((function(t){return t.product._id===c._id})).length){var r={itemsInCart:[].concat(Object(x.a)(t.itemsInCart),[{product:Object(b.a)(Object(b.a)({},c),{},{inStock:c.inStock-1}),quantity:1}])};return r}var a={itemsInCart:t.itemsInCart.map((function(t){return t.product._id===c._id?{product:Object(b.a)(Object(b.a)({},c),{},{inStock:c.inStock-1}),quantity:t.quantity+1}:t}))};return a;case"cart/removeItem":return{itemsInCart:t.itemsInCart.filter((function(t){return t.product._id!==c}))};default:return t}}}),k=Object(u.createStore)(y,Object(d.composeWithDevTools)(Object(u.applyMiddleware)(v.a))),S=n(11),C=n(119),w=n(120),I=n(122),N=n(96),_=n(121),B=n(117),z=Object(B.a)((function(t){return{toolbar:{background:"#f5f5f5",color:"#111"},cartLink:{alignSelf:"center",textAlign:"right"},appBar:{zIndex:1e3}}}));function q(){var t=z(),e=Object(S.c)((function(t){return t.cartStore.itemsInCart})),n=0;return e.forEach((function(t){n+=t.quantity})),Object(c.jsx)(C.a,{className:t.appBar,position:"relative",children:Object(c.jsx)(w.a,{className:t.toolbar,children:Object(c.jsxs)(_.a,{container:!0,children:[Object(c.jsx)(_.a,{item:!0,xs:!0,children:Object(c.jsx)(N.a,{component:s.b,to:"/",children:Object(c.jsx)(I.a,{variant:"h4",children:"Our Store"})})}),Object(c.jsx)(_.a,{item:!0,xs:!0,className:t.cartLink,children:Object(c.jsxs)(N.a,{component:s.b,to:"/",children:["Cart (",n,")"]})})]})})})}var M=Object(B.a)((function(t){return{footer:{backgroundColor:"#eee",padding:t.spacing(6)}}})),T=function(t){var e=M();return Object(c.jsxs)("footer",{className:e.footer,children:[Object(c.jsx)(I.a,{variant:"h6",align:"center",gutterBottom:!0,children:"\xa9 2020 Javascript 401"}),Object(c.jsx)(I.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"React + Redux + Material UI"})]})},Q=n(123),D=n(124),E=Object(B.a)((function(t){return{categories:{margin:t.spacing(3)},activeContent:{padding:t.spacing(8,0,6)},categoryName:{textTransform:"uppercase"}}}));function F(){var t=E(),e=Object(S.c)((function(t){return t.categoryStore.categories})),n=Object(S.c)((function(t){return t.categoryStore.active})),a=Object(S.b)(),i=Object(r.useCallback)((function(t){a(function(){var t=Object(j.a)(l.a.mark((function t(e){var n,c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat("https://peng-authenticated-api-server.herokuapp.com","/api/categories"),t.next=3,m.get(n);case 3:c=t.sent,r=c.data,e({type:"categories/initialize",payload:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[a]);return Object(r.useEffect)((function(){var t=[{_id:Math.random(),name:"food",description:"Any nutritious substance that people or animals eat or drink or that plants absorb in order to maintain life and growth."},{_id:Math.random(),name:"electronics",description:"Electronic components, devices, or equipment"}];i(t)}),[i]),Object(c.jsxs)("div",{className:t.categories,children:[Object(c.jsx)(I.a,{variant:"h5",children:"Browse our Categories"}),Object(c.jsx)(Q.a,{variant:"text",color:"primary","aria-label":"text primary button group",children:e.map((function(t){return Object(c.jsx)(N.a,{color:n?t.name===n.name?null:"primary":null,onClick:function(){return function(t){a(function(t){return{type:"categories/active",payload:t}}(t))}(t)},children:t.name},t.name)}))}),Object(c.jsx)("div",{className:t.activeContent,children:Object(c.jsxs)(D.a,{maxWidth:"sm",children:[Object(c.jsx)(I.a,{component:"h1",variant:"h2",className:t.categoryName,align:"center",color:"textPrimary",gutterBottom:!0,children:n?n.name:null}),Object(c.jsx)(I.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:n?n.description:null})]})})]})}var L=n(125),R=n(128),A=n(127),G=n(126),J=Object(B.a)((function(t){return{cardGrid:{paddingTop:t.spacing(8),paddingBottom:t.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}}));function P(){var t=J(),e=Object(S.c)((function(t){return t.productStore.products})),n=Object(S.c)((function(t){return t.categoryStore.active})),a=Object(S.b)(),i=function(t){a(function(t){return{type:"cart/addItem",payload:t}}(t)),a(function(t){return function(){var e=Object(j.a)(l.a.mark((function e(n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("https://peng-authenticated-api-server.herokuapp.com","/api/products"),r=Object(b.a)(Object(b.a)({},t),{},{inStock:t.inStock-1}),e.next=4,f.put("".concat(c,"/").concat(t._id),r);case 4:n({type:"products/reduceQty",payload:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))};return Object(r.useEffect)((function(){var t;n&&a((t=n.name,function(){var e=Object(j.a)(l.a.mark((function e(n){var c,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("https://peng-authenticated-api-server.herokuapp.com","/api/products/category/").concat(t),e.next=3,f.get(c);case 3:r=e.sent,a=r.data,n({type:"products/initialize",payload:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),console.log("I am using effect")}),[n,a]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(D.a,{className:t.cardGrid,maxWidth:"md",children:Object(c.jsx)(_.a,{container:!0,spacing:4,children:e.map((function(e){return Object(c.jsx)(_.a,{item:!0,xs:12,sm:6,md:4,children:Object(c.jsxs)(L.a,{className:t.card,children:[Object(c.jsx)(G.a,{className:t.cardMedia,image:e.img,title:e.name}),Object(c.jsxs)(A.a,{className:t.cardContent,children:[Object(c.jsx)(I.a,{gutterBottom:!0,variant:"h5",component:"h2",display:"inline",children:e.name}),Object(c.jsxs)(I.a,{align:"right",children:["Qty:",e.inStock]}),Object(c.jsx)(I.a,{children:e.description})]}),Object(c.jsxs)(R.a,{children:[Object(c.jsx)(N.a,{size:"small",color:"primary",onClick:function(){return i(e)},disabled:0===e.inStock,children:"Add To Cart"}),Object(c.jsx)(N.a,{size:"small",color:"primary",component:s.b,to:"/product/".concat(e._id),children:"View Details"})]})]})},e.name)}))})})})}var W=n(36),H=(n(93),Object(B.a)((function(t){return{item:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},remove:{cursor:"pointer",color:"#eee",width:"15px",height:"15px",background:"#800",lineHeight:"13px",borderRadius:"50%",padding:"0 4px",fontSize:"15px"}}})));function U(){var t=H(),e=Object(S.c)((function(t){return t.cartStore.itemsInCart})),n=Object(S.b)(),r=function(t){var e;n({type:"cart/removeItem",payload:t.product._id}),n((e=t,function(){var t=Object(j.a)(l.a.mark((function t(n){var c,r,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="".concat("https://peng-authenticated-api-server.herokuapp.com","/api/products"),r=Object(b.a)(Object(b.a)({},e.product),{},{inStock:e.quantity+e.product.inStock}),t.next=4,f.put("".concat(c,"/").concat(e.product._id),r);case 4:return t.next=6,f.get("".concat(c,"/category/").concat(e.product.category));case 6:a=t.sent,i=a.data,n({type:"products/increaseQty",payload:i});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};return Object(c.jsx)(W.a,{condition:e,children:Object(c.jsx)(W.a,{condition:e&&e.length>0,children:Object(c.jsxs)("div",{className:"simple-cart",children:[Object(c.jsx)("ul",{children:e.map((function(e){return Object(c.jsxs)("li",{className:t.item,children:[Object(c.jsx)("span",{children:e.product.name}),Object(c.jsxs)("span",{children:["Qty: ",e.quantity]}),Object(c.jsx)("span",{className:t.remove,onClick:function(){return r(e)},children:"x"})]},e.product._id)}))}),Object(c.jsx)("div",{className:"footer"})]})})})}var V=n(129);var K=function(){return Object(c.jsxs)(S.a,{store:k,children:[Object(c.jsx)(V.a,{}),Object(c.jsx)(q,{}),Object(c.jsxs)("main",{children:[Object(c.jsx)(F,{}),Object(c.jsx)(P,{}),Object(c.jsx)(U,{})]}),Object(c.jsx)(T,{})]})},X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),a(t),i(t)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(s.a,{children:Object(c.jsx)(K,{})})}),document.getElementById("root")),X()}},[[94,1,2]]]);
//# sourceMappingURL=main.c866186b.chunk.js.map