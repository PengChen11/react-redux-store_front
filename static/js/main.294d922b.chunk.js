(this["webpackJsonpreact-redux-store_front"]=this["webpackJsonpreact-redux-store_front"]||[]).push([[0],{93:function(t,e,c){},94:function(t,e,c){"use strict";c.r(e);var r=c(2),n=c(0),a=c.n(n),i=c(18),o=c.n(i),s=c(21),u=c(19),d=c(47),l=c(16),j=c.n(l),p=c(23),b=c(8),O=c(38),m={categories:[],active:null};var f=c(38),h={products:[]};var x=c(51),v={itemsInCart:[]};var g=c(49),_=Object(u.combineReducers)({categoryStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0,c=e.type,r=e.payload;switch(c){case"categories/initialize":return Object(b.a)(Object(b.a)({},t),{},{categories:r,active:r[0]});case"categories/active":return Object(b.a)(Object(b.a)({},t),{},{active:r});default:return t}},productStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0,c=e.type,r=e.payload;switch(c){case"products/initialize":return Object(b.a)(Object(b.a)({},t),{},{products:r});case"products/reduceQty":var n=t.products.map((function(t){return t._id===r._id?r:t}));return Object(b.a)(Object(b.a)({},t),{},{products:n});case"products/increaseQty":return Object(b.a)(Object(b.a)({},t),{},{products:r});default:return t}},cartStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0,c=e.type,r=e.payload;switch(c){case"cart/addItem":if(0===t.itemsInCart.filter((function(t){return t.product._id===r._id})).length){var n={itemsInCart:[].concat(Object(x.a)(t.itemsInCart),[{product:Object(b.a)(Object(b.a)({},r),{},{inStock:r.inStock-1}),quantity:1}])};return n}var a={itemsInCart:t.itemsInCart.map((function(t){return t.product._id===r._id?{product:Object(b.a)(Object(b.a)({},r),{},{inStock:r.inStock-1}),quantity:t.quantity+1}:t}))};return a;case"cart/removeItem":return{itemsInCart:t.itemsInCart.filter((function(t){return t.product._id!==r}))};default:return t}}}),S=Object(u.createStore)(_,Object(d.composeWithDevTools)(Object(u.applyMiddleware)(g.a))),y=c(11),C=c(119),T=c(120),E=c(122),I=c(96),P=c(121),k=c(117),N=Object(k.a)((function(t){return{toolbar:{background:"#f5f5f5",color:"#111"},cartLink:{alignSelf:"center",textAlign:"right"},appBar:{zIndex:1e3}}}));function R(){var t=N(),e=Object(y.c)((function(t){return t.cartStore.itemsInCart})),c=0;return e.forEach((function(t){c+=t.quantity})),Object(r.jsx)(C.a,{className:t.appBar,position:"relative",children:Object(r.jsx)(T.a,{className:t.toolbar,children:Object(r.jsxs)(P.a,{container:!0,children:[Object(r.jsx)(P.a,{item:!0,xs:!0,children:Object(r.jsx)(I.a,{component:s.b,to:"/",children:Object(r.jsx)(E.a,{variant:"h4",children:"Our Store"})})}),Object(r.jsx)(P.a,{item:!0,xs:!0,className:t.cartLink,children:Object(r.jsxs)(I.a,{component:s.b,to:"/",children:["Cart (",c,")"]})})]})})})}var A=Object(k.a)((function(t){return{footer:{backgroundColor:"#eee",padding:t.spacing(6)}}})),w=function(t){var e=A();return Object(r.jsxs)("footer",{className:e.footer,children:[Object(r.jsx)(E.a,{variant:"h6",align:"center",gutterBottom:!0,children:"\xa9 2020 Javascript 401"}),Object(r.jsx)(E.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"React + Redux + Material UI"})]})},D=c(123),W=c(124),B=Object(k.a)((function(t){return{categories:{margin:t.spacing(3)},activeContent:{padding:t.spacing(8,0,6)},categoryName:{textTransform:"uppercase"}}}));function F(){var t=B(),e=Object(y.c)((function(t){return t.categoryStore.categories})),c=Object(y.c)((function(t){return t.categoryStore.active})),a=Object(y.b)(),i=Object(n.useCallback)((function(t){a(function(){var t=Object(p.a)(j.a.mark((function t(e){var c,r,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/react-redux-store_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/api/categories"),t.next=3,O.get(c);case 3:r=t.sent,n=r.data,e({type:"categories/initialize",payload:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[a]);return Object(n.useEffect)((function(){var t=[{_id:Math.random(),name:"food",description:"Any nutritious substance that people or animals eat or drink or that plants absorb in order to maintain life and growth."},{_id:Math.random(),name:"electronics",description:"Electronic components, devices, or equipment"}];i(t)}),[i]),Object(r.jsxs)("div",{className:t.categories,children:[Object(r.jsx)(E.a,{variant:"h5",children:"Browse our Categories"}),Object(r.jsx)(D.a,{variant:"text",color:"primary","aria-label":"text primary button group",children:e.map((function(t){return Object(r.jsx)(I.a,{color:c?t.name===c.name?null:"primary":null,onClick:function(){return function(t){a(function(t){return{type:"categories/active",payload:t}}(t))}(t)},children:t.name},t.name)}))}),Object(r.jsx)("div",{className:t.activeContent,children:Object(r.jsxs)(W.a,{maxWidth:"sm",children:[Object(r.jsx)(E.a,{component:"h1",variant:"h2",className:t.categoryName,align:"center",color:"textPrimary",gutterBottom:!0,children:c?c.name:null}),Object(r.jsx)(E.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:c?c.description:null})]})})]})}var H=c(125),K=c(128),L=c(127),U=c(126),z=Object(k.a)((function(t){return{cardGrid:{paddingTop:t.spacing(8),paddingBottom:t.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}}));function q(){var t=z(),e=Object(y.c)((function(t){return t.productStore.products})),c=Object(y.c)((function(t){return t.categoryStore.active})),a=Object(y.b)(),i=function(t){a(function(t){return{type:"cart/addItem",payload:t}}(t)),a(function(t){return function(){var e=Object(p.a)(j.a.mark((function e(c){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/react-redux-store_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/api/products"),n=Object(b.a)(Object(b.a)({},t),{},{inStock:t.inStock-1}),e.next=4,f.put("".concat(r,"/").concat(t._id),n);case 4:c({type:"products/reduceQty",payload:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))};return Object(n.useEffect)((function(){var t;c&&a((t=c.name,function(){var e=Object(p.a)(j.a.mark((function e(c){var r,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/react-redux-store_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/api/products/category/").concat(t),e.next=3,f.get(r);case 3:n=e.sent,a=n.data,c({type:"products/initialize",payload:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),console.log("I am using effect")}),[c,a]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(W.a,{className:t.cardGrid,maxWidth:"md",children:Object(r.jsx)(P.a,{container:!0,spacing:4,children:e.map((function(e){return Object(r.jsx)(P.a,{item:!0,xs:12,sm:6,md:4,children:Object(r.jsxs)(H.a,{className:t.card,children:[Object(r.jsx)(U.a,{className:t.cardMedia,image:e.img,title:e.name}),Object(r.jsxs)(L.a,{className:t.cardContent,children:[Object(r.jsx)(E.a,{gutterBottom:!0,variant:"h5",component:"h2",display:"inline",children:e.name}),Object(r.jsxs)(E.a,{align:"right",children:["Qty:",e.inStock]}),Object(r.jsx)(E.a,{children:e.description})]}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(I.a,{size:"small",color:"primary",onClick:function(){return i(e)},disabled:0===e.inStock,children:"Add To Cart"}),Object(r.jsx)(I.a,{size:"small",color:"primary",component:s.b,to:"/product/".concat(e._id),children:"View Details"})]})]})},e.name)}))})})})}var M=c(36),Q=(c(93),Object(k.a)((function(t){return{item:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},remove:{cursor:"pointer",color:"#eee",width:"15px",height:"15px",background:"#800",lineHeight:"13px",borderRadius:"50%",padding:"0 4px",fontSize:"15px"}}})));function V(){var t=Q(),e=Object(y.c)((function(t){return t.cartStore.itemsInCart})),c=Object(y.b)(),n=function(t){var e;c({type:"cart/removeItem",payload:t.product._id}),c((e=t,function(){var t=Object(p.a)(j.a.mark((function t(c){var r,n,a,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/react-redux-store_front",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/api/products"),n=Object(b.a)(Object(b.a)({},e.product),{},{inStock:e.quantity+e.product.inStock}),t.next=4,f.put("".concat(r,"/").concat(e.product._id),n);case 4:return t.next=6,f.get("".concat(r,"/category/").concat(e.product.category));case 6:a=t.sent,i=a.data,c({type:"products/increaseQty",payload:i});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};return Object(r.jsx)(M.a,{condition:e,children:Object(r.jsx)(M.a,{condition:e&&e.length>0,children:Object(r.jsxs)("div",{className:"simple-cart",children:[Object(r.jsx)("ul",{children:e.map((function(e){return Object(r.jsxs)("li",{className:t.item,children:[Object(r.jsx)("span",{children:e.product.name}),Object(r.jsxs)("span",{children:["Qty: ",e.quantity]}),Object(r.jsx)("span",{className:t.remove,onClick:function(){return n(e)},children:"x"})]},e.product._id)}))}),Object(r.jsx)("div",{className:"footer"})]})})})}var G=c(129);var J=function(){return Object(r.jsxs)(y.a,{store:S,children:[Object(r.jsx)(G.a,{}),Object(r.jsx)(R,{}),Object(r.jsxs)("main",{children:[Object(r.jsx)(F,{}),Object(r.jsx)(q,{}),Object(r.jsx)(V,{})]}),Object(r.jsx)(w,{})]})},X=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,131)).then((function(e){var c=e.getCLS,r=e.getFID,n=e.getFCP,a=e.getLCP,i=e.getTTFB;c(t),r(t),n(t),a(t),i(t)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(s.a,{children:Object(r.jsx)(J,{})})}),document.getElementById("root")),X()}},[[94,1,2]]]);
//# sourceMappingURL=main.294d922b.chunk.js.map